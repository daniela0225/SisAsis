

<p id="container"></p>
</body>
<script type="text/javascript" src="DateFunctions.js"></script>
<script type="module">

	let x = [];
	let date = new Date(2019,2,11);
	let endDate = new Date(2019,11,20);

	let vacaciones = [
		{start: new Date( 2019,4,27) , end: new Date(2019,4,31) },
		{start: new Date( 2019,6,26),end: new Date(2019,7,12) },
		{start: new Date( 2019,9,21),end: new Date(2019,9,25) }
	]
	
	while (date.getTime() <= endDate.getTime() ) {
		date.setDate(date.getDate() + 1);
		let day = date.getDay();
		let isVacation = isVacationDay(date, vacaciones);

		if( isVacation === false){
			if( day !== 0 && day !== 6 ){
				if( isHoliday(date) == false ){
					var newDate = date.getFullYear() + "-" + (((date.getMonth() + 1 ) < 10 )?"0":"") + (date.getMonth() + 1) + "-" + ((date.getDate() < 10)?"0":"") + date.getDate() ;
					var hour = "08:30";
					if(  Math.floor(Math.random()*2 + 1) == 2 ){
						hour = "07:45";
					}

					x.push("{student: ObjectId('5c62fc69173c30771fe7818c'), <br> date: ISODate('" + newDate + "T"+ hour +":01Z'), <br> school: ObjectId('5c5d9fe75cb286b5fae960a9'), <br> type: 'CHECK_IN'}<br>");
										
					x.push("{student: ObjectId('5c62fc69173c30771fe7818c'), <br> date: ISODate('" + newDate + "T15:45:15Z'), <br> school: ObjectId('5c5d9fe75cb286b5fae960a9'), <br> type: 'CHECK_OUT'}<br>");
					
				}
			}
		}
	}

	document.getElementById("container").innerHTML = x;

	//modal
	//fecha de fin en record Controllers se tienen que cambiar
</script>
	


